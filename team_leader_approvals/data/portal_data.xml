<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Email template for team leader notification -->
        <record id="email_template_team_leader_approval" model="mail.template">
            <field name="name">Team Leader: Leave Approval Required</field>
            <field name="model_id" ref="hr_holidays.model_hr_leave"/>
            <field name="subject">Leave Approval Required for ${object.employee_id.name}</field>
            <field name="email_from">${(object.create_uid.email_formatted) or ''}</field>
            <field name="email_to">${object.team_leader_id.work_email if object.team_leader_id else ''}</field>
            <field name="lang">${object.team_leader_id.lang}</field>
            <field name="auto_delete" eval="True"/>
            <field name="body_html">
                <![CDATA[
                <p>Dear ${object.team_leader_id.name},</p>

                <p>Your team member <strong>${object.employee_id.name}</strong> has submitted a leave request that requires your approval.</p>

                <p><strong>Leave Details:</strong></p>
                <ul>
                    <li>Leave Type: ${object.holiday_status_id.name}</li>
                    <li>From: ${format_date(object.request_date_from)}</li>
                    <li>To: ${format_date(object.request_date_to)}</li>
                    <li>Duration: ${object.number_of_days} days</li>
                </ul>

                <p>Please review and approve/refuse this request through the portal.</p>

                <p>Portal Link: <a href="${object.get_portal_url()}">View Request</a></p>

                <p>Thank you,<br/>
                HR Department</p>
                ]]>
            </field>
        </record>
    </data>
</odoo>